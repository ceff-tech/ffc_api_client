<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Assess hydrologic alteration by flow metric — assess_alteration • ffcAPIClient</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Assess hydrologic alteration by flow metric — assess_alteration"><meta property="og:description" content="Returns a data frame with an alteration status assessment for every flow metric."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ffcAPIClient</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.9.8.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/ceff-steps.html">Use ffcAPIClient to Follow CEFF Steps</a>
    </li>
    <li>
      <a href="../articles/getting_started.html">Getting Started</a>
    </li>
    <li>
      <a href="../articles/run_multiple_gages.html">Run Multiple Gages</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Assess hydrologic alteration by flow metric</h1>
    
    <div class="hidden name"><code>assess_alteration.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Returns a data frame with an alteration status assessment for every flow metric.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">assess_alteration</span><span class="op">(</span><span class="va">percentiles</span>, <span class="va">predictions</span>, <span class="va">ffc_values</span>, <span class="va">comid</span>, <span class="va">annual</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>percentiles</dt>
<dd><p>dataframe of calculated FFC results percentiles, including the metric column and columns for p10,p25,p50,p75, and p90</p></dd>
<dt>predictions</dt>
<dd><p>dataframe of predicted flow metrics, as returned from <code>get_predicted_flow_metrics</code>.</p></dd>
<dt>ffc_values</dt>
<dd><p>dataframe of the raw results from the online FFC, as returned by <code>evaluate_gage_alteration</code> or <code>get_results_as_df</code></p></dd>
<dt>comid</dt>
<dd><p>integer comid of the stream segment the previous parameters are for</p></dd>
<dt>annual</dt>
<dd><p>boolean indicating whether to run a year over year analysis. If <code>TRUE</code>, then the parameter <code>percentiles</code>
changes and should be a data frame with only two columns - the first is still <code>metric</code>, but the second is just
<code>value</code> representing the current year's value for the metric. <code>predictions</code> should then still have fields
for the <code>metric</code>, <code>p25</code>, and <code>p75</code>, where <code>p25</code> and <code>p75</code> represent the lower and upper
bounds for comparison, regardless of if they're calculated percentiles, or another set of bounds. When run in an
annual mode, it assesses alteration similarly to the description above, and with the same result structure, but
provides likely_unaltered results when <code>value</code> is within the <code>p25</code> and <code>p75</code> values, and provides
likely_altered otherwise without additional checks described in the CEFF guidance document, appendix F.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Generates an alteration status assessment for every flow metric based on the rules developed under CEFF for flow
alteration. This function pairs well with the boxplots for visualizing alteration, but only this function assesses
the data under the rules. Returns a data frame with columns "metric" , "status_code",
"status", "alteration_type", "median_in_iqr", and "comid".</p>
<p>The <code>comid</code> will be the same for all rows, and will match what you provide
as an input, but allows for merging of these results into larger tables.</p>
<p><code>status_code</code> will be -1 (likely altered), 0 (indeterminate), 1 (likely unaltered), or NA (insufficient data to determine).
<code>status</code> will be a text description of the status code (-1=likely_altered, 0=indeterminate, 1=likely_unaltered, NA=Not_enough_data).
<code>alteration_type</code> will tell you the direction of potential alteration for likely altered and indeterminate metrics - the direction
of alteration is determined by comparing the median value to the 25th and 7th percentiles of the predicted metrics. It will
provide "low" or "high" values for most metrics and "early" or "late" values for timing metrics. For likely_unaltered metrics,
it will provide "none_found" and for metrics with insufficient data, it will provide "undeterminable.". Also includes a boolean field
<code>median_in_iqr</code> indicating whether the median is in the interquartile range.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://nicksantos.com" class="external-link">Nick Santos</a>, <a href="https://ryanpeek.github.io/" class="external-link">Ryan Peek</a>, <a href="https://watershed.ucdavis.edu/people/alyssa-obester" class="external-link">Alyssa Obester</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

